leaclover@leaclover-VirtualBox:~$ sudo apt install docker.io -y

Чтение списков пакетов… Готово

Построение дерева зависимостей… Готово

Чтение информации о состоянии… Готово         

Следующий пакет устанавливался автоматически и больше не требуется:

  systemd-hwe-hwdb

Для его удаления используйте «sudo apt autoremove».

Будут установлены следующие дополнительные пакеты:

  bridge-utils containerd git git-man liberror-perl pigz runc ubuntu-fan

Предлагаемые пакеты:

  ifupdown aufs-tools btrfs-progs cgroupfs-mount | cgroup-lite debootstrap docker-doc rinse zfs-fuse | zfsutils git-daemon-run | git-daemon-sysvinit

  git-doc git-email git-gui gitk gitweb git-cvs git-mediawiki git-svn

Следующие НОВЫЕ пакеты будут установлены:

  bridge-utils containerd docker.io git git-man liberror-perl pigz runc ubuntu-fan

Обновлено 0 пакетов, установлено 9 новых пакетов, для удаления отмечено 0 пакетов, и 155 пакетов не обновлено.

Необходимо скачать 70,6 MB архивов.

После данной операции объём занятого дискового пространства возрастёт на 307 MB.

Пол:1 http://ru.archive.ubuntu.com/ubuntu jammy/universe amd64 pigz amd64 2.6-1 [63,6 kB]

Пол:2 http://ru.archive.ubuntu.com/ubuntu jammy/main amd64 bridge-utils amd64 1.7-1ubuntu3 [34,4 kB]

Пол:3 http://ru.archive.ubuntu.com/ubuntu jammy-updates/main amd64 runc amd64 1.1.0-0ubuntu1.1 [4 242 kB]

Пол:4 http://ru.archive.ubuntu.com/ubuntu jammy-updates/main amd64 containerd amd64 1.5.9-0ubuntu3.1 [28,1 MB]

Пол:5 http://ru.archive.ubuntu.com/ubuntu jammy/universe amd64 docker.io amd64 20.10.12-0ubuntu4 [34,0 MB]                                             

Пол:6 http://ru.archive.ubuntu.com/ubuntu jammy/main amd64 liberror-perl all 0.17029-1 [26,5 kB]                                                       

Пол:7 http://ru.archive.ubuntu.com/ubuntu jammy-updates/main amd64 git-man all 1:2.34.1-1ubuntu1.6 [953 kB]                                            

Пол:8 http://ru.archive.ubuntu.com/ubuntu jammy-updates/main amd64 git amd64 1:2.34.1-1ubuntu1.6 [3 142 kB]                                            

Пол:9 http://ru.archive.ubuntu.com/ubuntu jammy/universe amd64 ubuntu-fan all 0.12.16 [35,2 kB]                                                        

Получено 70,6 MB за 57с (1 246 kB/s)                                                                                                                   

Предварительная настройка пакетов …

Выбор ранее не выбранного пакета pigz.

(Чтение базы данных … на данный момент установлено 192428 файлов и каталогов.)

Подготовка к распаковке …/0-pigz_2.6-1_amd64.deb …

Распаковывается pigz (2.6-1) …

Выбор ранее не выбранного пакета bridge-utils.

Подготовка к распаковке …/1-bridge-utils_1.7-1ubuntu3_amd64.deb …

Распаковывается bridge-utils (1.7-1ubuntu3) …

Выбор ранее не выбранного пакета runc.

Подготовка к распаковке …/2-runc_1.1.0-0ubuntu1.1_amd64.deb …

Распаковывается runc (1.1.0-0ubuntu1.1) …

Выбор ранее не выбранного пакета containerd.

Подготовка к распаковке …/3-containerd_1.5.9-0ubuntu3.1_amd64.deb …

Распаковывается containerd (1.5.9-0ubuntu3.1) …

Выбор ранее не выбранного пакета docker.io.

Подготовка к распаковке …/4-docker.io_20.10.12-0ubuntu4_amd64.deb …

Распаковывается docker.io (20.10.12-0ubuntu4) …

Выбор ранее не выбранного пакета liberror-perl.

Подготовка к распаковке …/5-liberror-perl_0.17029-1_all.deb …

Распаковывается liberror-perl (0.17029-1) …

Выбор ранее не выбранного пакета git-man.

Подготовка к распаковке …/6-git-man_1%3a2.34.1-1ubuntu1.6_all.deb …

Распаковывается git-man (1:2.34.1-1ubuntu1.6) …

Выбор ранее не выбранного пакета git.

Подготовка к распаковке …/7-git_1%3a2.34.1-1ubuntu1.6_amd64.deb …

Распаковывается git (1:2.34.1-1ubuntu1.6) …

Выбор ранее не выбранного пакета ubuntu-fan.

Подготовка к распаковке …/8-ubuntu-fan_0.12.16_all.deb …

Распаковывается ubuntu-fan (0.12.16) …

Настраивается пакет runc (1.1.0-0ubuntu1.1) …

Настраивается пакет liberror-perl (0.17029-1) …

Настраивается пакет bridge-utils (1.7-1ubuntu3) …

Настраивается пакет pigz (2.6-1) …

Настраивается пакет git-man (1:2.34.1-1ubuntu1.6) …

Настраивается пакет containerd (1.5.9-0ubuntu3.1) …

Created symlink /etc/systemd/system/multi-user.target.wants/containerd.service → /lib/systemd/system/containerd.service.

Настраивается пакет ubuntu-fan (0.12.16) …

Created symlink /etc/systemd/system/multi-user.target.wants/ubuntu-fan.service → /lib/systemd/system/ubuntu-fan.service.

Настраивается пакет docker.io (20.10.12-0ubuntu4) …

Добавляется группа «docker» (GID 138) ...

Готово.

Created symlink /etc/systemd/system/multi-user.target.wants/docker.service → /lib/systemd/system/docker.service.

Created symlink /etc/systemd/system/sockets.target.wants/docker.socket → /lib/systemd/system/docker.socket.

Настраивается пакет git (1:2.34.1-1ubuntu1.6) …

Обрабатываются триггеры для man-db (2.10.2-1) …

leaclover@leaclover-VirtualBox:~$ sudo docker



Usage:  docker [OPTIONS] COMMAND



A self-sufficient runtime for containers



Options:

      --config string      Location of client config files (default "/root/.docker")

  -c, --context string     Name of the context to use to connect to the daemon (overrides DOCKER_HOST env var and default context set with

                           "docker context use")

  -D, --debug              Enable debug mode

  -H, --host list          Daemon socket(s) to connect to

  -l, --log-level string   Set the logging level ("debug"|"info"|"warn"|"error"|"fatal") (default "info")

      --tls                Use TLS; implied by --tlsverify

      --tlscacert string   Trust certs signed only by this CA (default "/root/.docker/ca.pem")

      --tlscert string     Path to TLS certificate file (default "/root/.docker/cert.pem")

      --tlskey string      Path to TLS key file (default "/root/.docker/key.pem")

      --tlsverify          Use TLS and verify the remote

  -v, --version            Print version information and quit



Management Commands:

  builder     Manage builds

  config      Manage Docker configs

  container   Manage containers

  context     Manage contexts

  image       Manage images

  manifest    Manage Docker image manifests and manifest lists

  network     Manage networks

  node        Manage Swarm nodes

  plugin      Manage plugins

  secret      Manage Docker secrets

  service     Manage services

  stack       Manage Docker stacks

  swarm       Manage Swarm

  system      Manage Docker

  trust       Manage trust on Docker images

  volume      Manage volumes



Commands:

  attach      Attach local standard input, output, and error streams to a running container

  build       Build an image from a Dockerfile

  commit      Create a new image from a container's changes

  cp          Copy files/folders between a container and the local filesystem

  create      Create a new container

  diff        Inspect changes to files or directories on a container's filesystem

  events      Get real time events from the server

  exec        Run a command in a running container

  export      Export a container's filesystem as a tar archive

  history     Show the history of an image

  images      List images

  import      Import the contents from a tarball to create a filesystem image

  info        Display system-wide information

  inspect     Return low-level information on Docker objects

  kill        Kill one or more running containers

  load        Load an image from a tar archive or STDIN

  login       Log in to a Docker registry

  logout      Log out from a Docker registry

  logs        Fetch the logs of a container

  pause       Pause all processes within one or more containers

  port        List port mappings or a specific mapping for the container

  ps          List containers

  pull        Pull an image or a repository from a registry

  push        Push an image or a repository to a registry

  rename      Rename a container

  restart     Restart one or more containers

  rm          Remove one or more containers

  rmi         Remove one or more images

  run         Run a command in a new container

  save        Save one or more images to a tar archive (streamed to STDOUT by default)

  search      Search the Docker Hub for images

  start       Start one or more stopped containers

  stats       Display a live stream of container(s) resource usage statistics

  stop        Stop one or more running containers

  tag         Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE

  top         Display the running processes of a container

  unpause     Unpause all processes within one or more containers

  update      Update configuration of one or more containers

  version     Show the Docker version information

  wait        Block until one or more containers stop, then print their exit codes



Run 'docker COMMAND --help' for more information on a command.



To get more help with docker, check out our guides at https://docs.docker.com/go/guides/

leaclover@leaclover-VirtualBox:~$ sudo groupadd docker

groupadd: группа «docker» уже существует

leaclover@leaclover-VirtualBox:~$ tail /etc/g

gai.conf     gdm3/        ghostscript/ gnome/       group        grub.d/      gshadow-     gtk-2.0/     

gdb/         geoclue/     glvnd/       groff/       group-       gshadow      gss/         gtk-3.0/     

leaclover@leaclover-VirtualBox:~$ tail /etc/group

member3:x:1004:

godgod:x:1005:

developer:x:1006:user1,user2,user3

user1:x:1007:

user2:x:1008:

user3:x:1009:

user55:x:1002:

nginx:x:136:

mysql:x:137:

docker:x:138:

leaclover@leaclover-VirtualBox:~$ sudo usermod -aG docker $USER

leaclover@leaclover-VirtualBox:~$ tail /etc/group

member3:x:1004:

godgod:x:1005:

developer:x:1006:user1,user2,user3

user1:x:1007:

user2:x:1008:

user3:x:1009:

user55:x:1002:

nginx:x:136:

mysql:x:137:

docker:x:138:leaclover

leaclover@leaclover-VirtualBox:~$ sudo service docker restart

leaclover@leaclover-VirtualBox:~$ newgrp docker

leaclover@leaclover-VirtualBox:~$ docker -v

Docker version 20.10.12, build 20.10.12-0ubuntu4

leaclover@leaclover-VirtualBox:~$ docker run -d -p 80:80 docker/getting-started

Unable to find image 'docker/getting-started:latest' locally

latest: Pulling from docker/getting-started

c158987b0551: Pull complete 

1e35f6679fab: Pull complete 

cb9626c74200: Pull complete 

b6334b6ace34: Pull complete 

f1d1c9928c82: Pull complete 

9b6f639ec6ea: Pull complete 

ee68d3549ec8: Pull complete 

33e0cbbb4673: Pull complete 

4f7e34c2de10: Pull complete 

Digest: sha256:d79336f4812b6547a53e735480dde67f8f8f7071b414fbd9297609ffb989abc1

Status: Downloaded newer image for docker/getting-started:latest

250294c55f33788d6b2151ec7e7628bd957c38b41548540ff1a6f999889ecdc8

leaclover@leaclover-VirtualBox:~$ docker ps

CONTAINER ID   IMAGE                    COMMAND                  CREATED         STATUS         PORTS                               NAMES

250294c55f33   docker/getting-started   "/docker-entrypoint.…"   5 seconds ago   Up 4 seconds   0.0.0.0:80->80/tcp, :::80->80/tcp   intelligent_jang

leaclover@leaclover-VirtualBox:~$ docker stop 250294c55f33

250294c55f33

leaclover@leaclover-VirtualBox:~$ docker ps

CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES

leaclover@leaclover-VirtualBox:~$ ll

итого 164

drwxr-x--- 18 leaclover leaclover  4096 фев  8 23:50  ./

drwxr-xr-x  9 root      root       4096 янв 26 01:15  ../

-rw-rw-r--  1 leaclover leaclover    16 янв 21 00:45  123

-rw-------  1 leaclover leaclover 22606 фев  8 00:36  .bash_history

-rw-r--r--  1 leaclover leaclover   220 янв 12 18:04  .bash_logout

-rw-r--r--  1 leaclover leaclover  3771 янв 12 18:04  .bashrc

drwx------ 11 leaclover leaclover  4096 янв 16 20:52  .cache/

drwxrwxrwx  3 root      root       4096 фев  7 02:30  code/

drwxrwxr-x  2 leaclover leaclover  4096 янв 26 00:52  common_folder/

drwx------ 13 leaclover leaclover  4096 фев  3 02:27  .config/

-rw-r--r--  1 root      root         49 янв 31 19:16  deb

-rw-------  1 leaclover leaclover    20 фев  7 18:23  .lesshst

drwx------  3 leaclover leaclover  4096 янв 16 19:40  .local/

drwxrwxr-x  2 leaclover leaclover  4096 янв 21 00:57  newfolder/

-rw-r--r--  1 root      root         49 янв 31 19:16  nginx

-rw-rw-r--  1 leaclover leaclover  1561 июн 16  2016  nginx_signing.key

-rw-r--r--  1 leaclover leaclover   807 янв 12 18:04  .profile

-rw-rw-r--  1 leaclover leaclover    66 янв 31 20:02  .selected_editor

drwxr-x---  2 root      root       4096 янв 16 21:13  shared/

drwx------  5 leaclover leaclover  4096 фев  2 23:41  snap/

-rw-r--r--  1 leaclover leaclover     0 янв 16 20:33  .sudo_as_admin_successful

-rw-rw-r--  1 leaclover leaclover    20 янв 31 20:30  test.txt

-rw-rw-r--  1 leaclover leaclover    20 фев  9 00:30  test.txt.bak

-rw-r-----  1 leaclover leaclover     6 фев  8 23:50  .vboxclient-clipboard.pid

-rw-r-----  1 leaclover leaclover     6 фев  8 23:50  .vboxclient-draganddrop.pid

-rw-r-----  1 leaclover leaclover     6 фев  8 23:50  .vboxclient-seamless.pid

-rw-r-----  1 leaclover leaclover     6 фев  8 23:50  .vboxclient-vmsvga-session-tty2.pid

-rw-------  1 leaclover leaclover  1742 янв 21 00:31  .viminfo

-rw-r--r--  1 root      root         49 янв 31 19:16  xenial

drwxr-xr-x  2 leaclover leaclover  4096 янв 16 19:40  Видео/

drwxr-xr-x  2 leaclover leaclover  4096 янв 16 19:40  Документы/

drwxr-xr-x  2 leaclover leaclover  4096 фев  7 15:05  Загрузки/

drwxr-xr-x  2 leaclover leaclover  4096 янв 16 19:40  Изображения/

drwxr-xr-x  2 leaclover leaclover  4096 янв 16 19:40  Музыка/

drwxr-xr-x  2 leaclover leaclover  4096 янв 16 19:40  Общедоступные/

drwxr-xr-x  2 leaclover leaclover  4096 янв 16 19:40 'Рабочий стол'/

drwxr-xr-x  2 leaclover leaclover  4096 янв 16 19:40  Шаблоны/

leaclover@leaclover-VirtualBox:~$ cd code/

leaclover@leaclover-VirtualBox:~/code$ sudo mkdir test 

[sudo] пароль для leaclover: 

leaclover@leaclover-VirtualBox:~/code$ cd test/

leaclover@leaclover-VirtualBox:~/code/test$ sudo nano Dockerfile

leaclover@leaclover-VirtualBox:~/code/test$ docker build -t my_test_image .

Sending build context to Docker daemon  2.048kB

Step 1/7 : FROM ubuntu:latest

latest: Pulling from library/ubuntu

677076032cca: Pull complete 

Digest: sha256:9a0bdde4188b896a372804be2384015e90e3f84906b750c1a53539b585fbbe7f

Status: Downloaded newer image for ubuntu:latest

 ---> 58db3edaf2be

Step 2/7 : MAINTAINER leaclover

 ---> Running in 50d28894b945

Removing intermediate container 50d28894b945

 ---> 408461adb8ce

Step 3/7 : RUN apt-get update

 ---> Running in 568a500fe5e6

Get:1 http://archive.ubuntu.com/ubuntu jammy InRelease [270 kB]

Get:2 http://security.ubuntu.com/ubuntu jammy-security InRelease [110 kB]

Get:3 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [119 kB]

Get:4 http://archive.ubuntu.com/ubuntu jammy-backports InRelease [107 kB]

Get:5 http://archive.ubuntu.com/ubuntu jammy/main amd64 Packages [1792 kB]

Get:6 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 Packages [681 kB]

Get:7 http://archive.ubuntu.com/ubuntu jammy/universe amd64 Packages [17.5 MB]

Get:8 http://security.ubuntu.com/ubuntu jammy-security/main amd64 Packages [754 kB]

Get:9 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 Packages [799 kB]

Get:10 http://security.ubuntu.com/ubuntu jammy-security/multiverse amd64 Packages [5557 B]

Get:11 http://archive.ubuntu.com/ubuntu jammy/multiverse amd64 Packages [266 kB]

Get:12 http://archive.ubuntu.com/ubuntu jammy/restricted amd64 Packages [164 kB]

Get:13 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages [1106 kB]

Get:14 http://archive.ubuntu.com/ubuntu jammy-updates/universe amd64 Packages [1012 kB]

Get:15 http://archive.ubuntu.com/ubuntu jammy-updates/restricted amd64 Packages [758 kB]

Get:16 http://archive.ubuntu.com/ubuntu jammy-updates/multiverse amd64 Packages [9666 B]

Get:17 http://archive.ubuntu.com/ubuntu jammy-backports/main amd64 Packages [49.0 kB]

Get:18 http://archive.ubuntu.com/ubuntu jammy-backports/universe amd64 Packages [22.4 kB]

Fetched 25.5 MB in 20s (1267 kB/s)

Reading package lists...

Removing intermediate container 568a500fe5e6

 ---> 004bfc872d70

Step 4/7 : RUN apt-get install nginx -y

 ---> Running in 9cbc3662eb59

Reading package lists...

Building dependency tree...

Reading state information...

The following additional packages will be installed:

  fontconfig-config fonts-dejavu-core iproute2 libatm1 libbpf0 libbrotli1

  libbsd0 libcap2-bin libdeflate0 libelf1 libexpat1 libfontconfig1

  libfreetype6 libgd3 libicu70 libjbig0 libjpeg-turbo8 libjpeg8 libmaxminddb0

  libmd0 libmnl0 libnginx-mod-http-geoip2 libnginx-mod-http-image-filter

  libnginx-mod-http-xslt-filter libnginx-mod-mail libnginx-mod-stream

  libnginx-mod-stream-geoip2 libpam-cap libpng16-16 libtiff5 libwebp7 libx11-6

  libx11-data libxau6 libxcb1 libxdmcp6 libxml2 libxpm4 libxslt1.1

  libxtables12 nginx-common nginx-core ucf

Suggested packages:

  iproute2-doc libgd-tools mmdb-bin fcgiwrap nginx-doc ssl-cert

The following NEW packages will be installed:

  fontconfig-config fonts-dejavu-core iproute2 libatm1 libbpf0 libbrotli1

  libbsd0 libcap2-bin libdeflate0 libelf1 libexpat1 libfontconfig1

  libfreetype6 libgd3 libicu70 libjbig0 libjpeg-turbo8 libjpeg8 libmaxminddb0

  libmd0 libmnl0 libnginx-mod-http-geoip2 libnginx-mod-http-image-filter

  libnginx-mod-http-xslt-filter libnginx-mod-mail libnginx-mod-stream

  libnginx-mod-stream-geoip2 libpam-cap libpng16-16 libtiff5 libwebp7 libx11-6

  libx11-data libxau6 libxcb1 libxdmcp6 libxml2 libxpm4 libxslt1.1

  libxtables12 nginx nginx-common nginx-core ucf

0 upgraded, 44 newly installed, 0 to remove and 5 not upgraded.

Need to get 17.5 MB of archives.

After this operation, 56.4 MB of additional disk space will be used.

Get:1 http://archive.ubuntu.com/ubuntu jammy/main amd64 libelf1 amd64 0.186-1build1 [51.0 kB]

Get:2 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libbpf0 amd64 1:0.5.0-1ubuntu22.04.1 [140 kB]

Get:3 http://archive.ubuntu.com/ubuntu jammy/main amd64 libmd0 amd64 1.0.4-1build1 [23.0 kB]

Get:4 http://archive.ubuntu.com/ubuntu jammy/main amd64 libbsd0 amd64 0.11.5-1 [44.8 kB]

Get:5 http://archive.ubuntu.com/ubuntu jammy/main amd64 libmnl0 amd64 1.0.4-3build2 [13.2 kB]

Get:6 http://archive.ubuntu.com/ubuntu jammy/main amd64 libxtables12 amd64 1.8.7-1ubuntu5 [31.2 kB]

Get:7 http://archive.ubuntu.com/ubuntu jammy/main amd64 libcap2-bin amd64 1:2.44-1build3 [26.0 kB]

Get:8 http://archive.ubuntu.com/ubuntu jammy/main amd64 iproute2 amd64 5.15.0-1ubuntu2 [1070 kB]

Get:9 http://archive.ubuntu.com/ubuntu jammy/main amd64 libatm1 amd64 1:2.5.1-4build2 [22.8 kB]

Get:10 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libexpat1 amd64 2.4.7-1ubuntu0.2 [91.0 kB]

Get:11 http://archive.ubuntu.com/ubuntu jammy/main amd64 libicu70 amd64 70.1-2 [10.6 MB]

Get:12 http://archive.ubuntu.com/ubuntu jammy/main amd64 libpam-cap amd64 1:2.44-1build3 [7932 B]

Get:13 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libxml2 amd64 2.9.13+dfsg-1ubuntu0.2 [764 kB]

Get:14 http://archive.ubuntu.com/ubuntu jammy/main amd64 ucf all 3.0043 [56.1 kB]

Get:15 http://archive.ubuntu.com/ubuntu jammy/main amd64 libmaxminddb0 amd64 1.5.2-1build2 [24.7 kB]

Get:16 http://archive.ubuntu.com/ubuntu jammy/main amd64 libpng16-16 amd64 1.6.37-3build5 [191 kB]

Get:17 http://archive.ubuntu.com/ubuntu jammy/main amd64 libxau6 amd64 1:1.0.9-1build5 [7634 B]

Get:18 http://archive.ubuntu.com/ubuntu jammy/main amd64 libxdmcp6 amd64 1:1.1.3-0ubuntu5 [10.9 kB]

Get:19 http://archive.ubuntu.com/ubuntu jammy/main amd64 libxcb1 amd64 1.14-3ubuntu3 [49.0 kB]

Get:20 http://archive.ubuntu.com/ubuntu jammy/main amd64 libx11-data all 2:1.7.5-1 [119 kB]

Get:21 http://archive.ubuntu.com/ubuntu jammy/main amd64 libx11-6 amd64 2:1.7.5-1 [666 kB]

Get:22 http://archive.ubuntu.com/ubuntu jammy/main amd64 fonts-dejavu-core all 2.37-2build1 [1041 kB]

Get:23 http://archive.ubuntu.com/ubuntu jammy/main amd64 fontconfig-config all 2.13.1-4.2ubuntu5 [29.1 kB]

Get:24 http://archive.ubuntu.com/ubuntu jammy/main amd64 libbrotli1 amd64 1.0.9-2build6 [315 kB]

Get:25 http://archive.ubuntu.com/ubuntu jammy/main amd64 libdeflate0 amd64 1.10-2 [70.9 kB]

Get:26 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libfreetype6 amd64 2.11.1+dfsg-1ubuntu0.1 [389 kB]

Get:27 http://archive.ubuntu.com/ubuntu jammy/main amd64 libfontconfig1 amd64 2.13.1-4.2ubuntu5 [131 kB]

Get:28 http://archive.ubuntu.com/ubuntu jammy/main amd64 libjpeg-turbo8 amd64 2.1.2-0ubuntu1 [134 kB]

Get:29 http://archive.ubuntu.com/ubuntu jammy/main amd64 libjpeg8 amd64 8c-2ubuntu10 [2264 B]

Get:30 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libjbig0 amd64 2.1-3.1ubuntu0.22.04.1 [29.2 kB]

Get:31 http://archive.ubuntu.com/ubuntu jammy/main amd64 libwebp7 amd64 1.2.2-2 [206 kB]

Get:32 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libtiff5 amd64 4.3.0-6ubuntu0.3 [183 kB]

Get:33 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libxpm4 amd64 1:3.5.12-1ubuntu0.22.04.1 [36.4 kB]

Get:34 http://archive.ubuntu.com/ubuntu jammy/main amd64 libgd3 amd64 2.3.0-2ubuntu2 [129 kB]

Get:35 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-common all 1.18.0-6ubuntu14.3 [40.0 kB]

Get:36 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-geoip2 amd64 1.18.0-6ubuntu14.3 [11.9 kB]

Get:37 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-image-filter amd64 1.18.0-6ubuntu14.3 [15.4 kB]

Get:38 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libxslt1.1 amd64 1.1.34-4ubuntu0.22.04.1 [164 kB]

Get:39 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-xslt-filter amd64 1.18.0-6ubuntu14.3 [13.7 kB]

Get:40 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-mail amd64 1.18.0-6ubuntu14.3 [45.7 kB]

Get:41 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream amd64 1.18.0-6ubuntu14.3 [72.8 kB]

Get:42 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream-geoip2 amd64 1.18.0-6ubuntu14.3 [10.1 kB]

Get:43 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-core amd64 1.18.0-6ubuntu14.3 [482 kB]

Get:44 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx amd64 1.18.0-6ubuntu14.3 [3882 B]

debconf: delaying package configuration, since apt-utils is not installed

Fetched 17.5 MB in 15s (1146 kB/s)

Selecting previously unselected package libelf1:amd64.

(Reading database ... 4395 files and directories currently installed.)

Preparing to unpack .../00-libelf1_0.186-1build1_amd64.deb ...

Unpacking libelf1:amd64 (0.186-1build1) ...

Selecting previously unselected package libbpf0:amd64.

Preparing to unpack .../01-libbpf0_1%3a0.5.0-1ubuntu22.04.1_amd64.deb ...

Unpacking libbpf0:amd64 (1:0.5.0-1ubuntu22.04.1) ...

Selecting previously unselected package libmd0:amd64.

Preparing to unpack .../02-libmd0_1.0.4-1build1_amd64.deb ...

Unpacking libmd0:amd64 (1.0.4-1build1) ...

Selecting previously unselected package libbsd0:amd64.

Preparing to unpack .../03-libbsd0_0.11.5-1_amd64.deb ...

Unpacking libbsd0:amd64 (0.11.5-1) ...

Selecting previously unselected package libmnl0:amd64.

Preparing to unpack .../04-libmnl0_1.0.4-3build2_amd64.deb ...

Unpacking libmnl0:amd64 (1.0.4-3build2) ...

Selecting previously unselected package libxtables12:amd64.

Preparing to unpack .../05-libxtables12_1.8.7-1ubuntu5_amd64.deb ...

Unpacking libxtables12:amd64 (1.8.7-1ubuntu5) ...

Selecting previously unselected package libcap2-bin.

Preparing to unpack .../06-libcap2-bin_1%3a2.44-1build3_amd64.deb ...

Unpacking libcap2-bin (1:2.44-1build3) ...

Selecting previously unselected package iproute2.

Preparing to unpack .../07-iproute2_5.15.0-1ubuntu2_amd64.deb ...

Unpacking iproute2 (5.15.0-1ubuntu2) ...

Selecting previously unselected package libatm1:amd64.

Preparing to unpack .../08-libatm1_1%3a2.5.1-4build2_amd64.deb ...

Unpacking libatm1:amd64 (1:2.5.1-4build2) ...

Selecting previously unselected package libexpat1:amd64.

Preparing to unpack .../09-libexpat1_2.4.7-1ubuntu0.2_amd64.deb ...

Unpacking libexpat1:amd64 (2.4.7-1ubuntu0.2) ...

Selecting previously unselected package libicu70:amd64.

Preparing to unpack .../10-libicu70_70.1-2_amd64.deb ...

Unpacking libicu70:amd64 (70.1-2) ...

Selecting previously unselected package libpam-cap:amd64.

Preparing to unpack .../11-libpam-cap_1%3a2.44-1build3_amd64.deb ...

Unpacking libpam-cap:amd64 (1:2.44-1build3) ...

Selecting previously unselected package libxml2:amd64.

Preparing to unpack .../12-libxml2_2.9.13+dfsg-1ubuntu0.2_amd64.deb ...

Unpacking libxml2:amd64 (2.9.13+dfsg-1ubuntu0.2) ...

Selecting previously unselected package ucf.

Preparing to unpack .../13-ucf_3.0043_all.deb ...

Moving old data out of the way

Unpacking ucf (3.0043) ...

Selecting previously unselected package libmaxminddb0:amd64.

Preparing to unpack .../14-libmaxminddb0_1.5.2-1build2_amd64.deb ...

Unpacking libmaxminddb0:amd64 (1.5.2-1build2) ...

Selecting previously unselected package libpng16-16:amd64.

Preparing to unpack .../15-libpng16-16_1.6.37-3build5_amd64.deb ...

Unpacking libpng16-16:amd64 (1.6.37-3build5) ...

Selecting previously unselected package libxau6:amd64.

Preparing to unpack .../16-libxau6_1%3a1.0.9-1build5_amd64.deb ...

Unpacking libxau6:amd64 (1:1.0.9-1build5) ...

Selecting previously unselected package libxdmcp6:amd64.

Preparing to unpack .../17-libxdmcp6_1%3a1.1.3-0ubuntu5_amd64.deb ...

Unpacking libxdmcp6:amd64 (1:1.1.3-0ubuntu5) ...

Selecting previously unselected package libxcb1:amd64.

Preparing to unpack .../18-libxcb1_1.14-3ubuntu3_amd64.deb ...

Unpacking libxcb1:amd64 (1.14-3ubuntu3) ...

Selecting previously unselected package libx11-data.

Preparing to unpack .../19-libx11-data_2%3a1.7.5-1_all.deb ...

Unpacking libx11-data (2:1.7.5-1) ...

Selecting previously unselected package libx11-6:amd64.

Preparing to unpack .../20-libx11-6_2%3a1.7.5-1_amd64.deb ...

Unpacking libx11-6:amd64 (2:1.7.5-1) ...

Selecting previously unselected package fonts-dejavu-core.

Preparing to unpack .../21-fonts-dejavu-core_2.37-2build1_all.deb ...

Unpacking fonts-dejavu-core (2.37-2build1) ...

Selecting previously unselected package fontconfig-config.

Preparing to unpack .../22-fontconfig-config_2.13.1-4.2ubuntu5_all.deb ...

Unpacking fontconfig-config (2.13.1-4.2ubuntu5) ...

Selecting previously unselected package libbrotli1:amd64.

Preparing to unpack .../23-libbrotli1_1.0.9-2build6_amd64.deb ...

Unpacking libbrotli1:amd64 (1.0.9-2build6) ...

Selecting previously unselected package libdeflate0:amd64.

Preparing to unpack .../24-libdeflate0_1.10-2_amd64.deb ...

Unpacking libdeflate0:amd64 (1.10-2) ...

Selecting previously unselected package libfreetype6:amd64.

Preparing to unpack .../25-libfreetype6_2.11.1+dfsg-1ubuntu0.1_amd64.deb ...

Unpacking libfreetype6:amd64 (2.11.1+dfsg-1ubuntu0.1) ...

Selecting previously unselected package libfontconfig1:amd64.

Preparing to unpack .../26-libfontconfig1_2.13.1-4.2ubuntu5_amd64.deb ...

Unpacking libfontconfig1:amd64 (2.13.1-4.2ubuntu5) ...

Selecting previously unselected package libjpeg-turbo8:amd64.

Preparing to unpack .../27-libjpeg-turbo8_2.1.2-0ubuntu1_amd64.deb ...

Unpacking libjpeg-turbo8:amd64 (2.1.2-0ubuntu1) ...

Selecting previously unselected package libjpeg8:amd64.

Preparing to unpack .../28-libjpeg8_8c-2ubuntu10_amd64.deb ...

Unpacking libjpeg8:amd64 (8c-2ubuntu10) ...

Selecting previously unselected package libjbig0:amd64.

Preparing to unpack .../29-libjbig0_2.1-3.1ubuntu0.22.04.1_amd64.deb ...

Unpacking libjbig0:amd64 (2.1-3.1ubuntu0.22.04.1) ...

Selecting previously unselected package libwebp7:amd64.

Preparing to unpack .../30-libwebp7_1.2.2-2_amd64.deb ...

Unpacking libwebp7:amd64 (1.2.2-2) ...

Selecting previously unselected package libtiff5:amd64.

Preparing to unpack .../31-libtiff5_4.3.0-6ubuntu0.3_amd64.deb ...

Unpacking libtiff5:amd64 (4.3.0-6ubuntu0.3) ...

Selecting previously unselected package libxpm4:amd64.

Preparing to unpack .../32-libxpm4_1%3a3.5.12-1ubuntu0.22.04.1_amd64.deb ...

Unpacking libxpm4:amd64 (1:3.5.12-1ubuntu0.22.04.1) ...

Selecting previously unselected package libgd3:amd64.

Preparing to unpack .../33-libgd3_2.3.0-2ubuntu2_amd64.deb ...

Unpacking libgd3:amd64 (2.3.0-2ubuntu2) ...

Selecting previously unselected package nginx-common.

Preparing to unpack .../34-nginx-common_1.18.0-6ubuntu14.3_all.deb ...

Unpacking nginx-common (1.18.0-6ubuntu14.3) ...

Selecting previously unselected package libnginx-mod-http-geoip2.

Preparing to unpack .../35-libnginx-mod-http-geoip2_1.18.0-6ubuntu14.3_amd64.deb ...

Unpacking libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.3) ...

Selecting previously unselected package libnginx-mod-http-image-filter.

Preparing to unpack .../36-libnginx-mod-http-image-filter_1.18.0-6ubuntu14.3_amd64.deb ...

Unpacking libnginx-mod-http-image-filter (1.18.0-6ubuntu14.3) ...

Selecting previously unselected package libxslt1.1:amd64.

Preparing to unpack .../37-libxslt1.1_1.1.34-4ubuntu0.22.04.1_amd64.deb ...

Unpacking libxslt1.1:amd64 (1.1.34-4ubuntu0.22.04.1) ...

Selecting previously unselected package libnginx-mod-http-xslt-filter.

Preparing to unpack .../38-libnginx-mod-http-xslt-filter_1.18.0-6ubuntu14.3_amd64.deb ...

Unpacking libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.3) ...

Selecting previously unselected package libnginx-mod-mail.

Preparing to unpack .../39-libnginx-mod-mail_1.18.0-6ubuntu14.3_amd64.deb ...

Unpacking libnginx-mod-mail (1.18.0-6ubuntu14.3) ...

Selecting previously unselected package libnginx-mod-stream.

Preparing to unpack .../40-libnginx-mod-stream_1.18.0-6ubuntu14.3_amd64.deb ...

Unpacking libnginx-mod-stream (1.18.0-6ubuntu14.3) ...

Selecting previously unselected package libnginx-mod-stream-geoip2.

Preparing to unpack .../41-libnginx-mod-stream-geoip2_1.18.0-6ubuntu14.3_amd64.deb ...

Unpacking libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.3) ...

Selecting previously unselected package nginx-core.

Preparing to unpack .../42-nginx-core_1.18.0-6ubuntu14.3_amd64.deb ...

Unpacking nginx-core (1.18.0-6ubuntu14.3) ...

Selecting previously unselected package nginx.

Preparing to unpack .../43-nginx_1.18.0-6ubuntu14.3_amd64.deb ...

Unpacking nginx (1.18.0-6ubuntu14.3) ...

Setting up libexpat1:amd64 (2.4.7-1ubuntu0.2) ...

Setting up libxau6:amd64 (1:1.0.9-1build5) ...

Setting up libmaxminddb0:amd64 (1.5.2-1build2) ...

Setting up libbrotli1:amd64 (1.0.9-2build6) ...

Setting up libdeflate0:amd64 (1.10-2) ...

Setting up nginx-common (1.18.0-6ubuntu14.3) ...

debconf: unable to initialize frontend: Dialog

debconf: (TERM is not set, so the dialog frontend is not usable.)

debconf: falling back to frontend: Readline

debconf: unable to initialize frontend: Readline

debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.34.0 /usr/local/share/perl/5.34.0 /usr/lib/x86_64-linux-gnu/perl5/5.34 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.34 /usr/share/perl/5.34 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)

debconf: falling back to frontend: Teletype

Setting up libatm1:amd64 (1:2.5.1-4build2) ...

Setting up libjbig0:amd64 (2.1-3.1ubuntu0.22.04.1) ...

Setting up libcap2-bin (1:2.44-1build3) ...

Setting up libx11-data (2:1.7.5-1) ...

Setting up libpng16-16:amd64 (1.6.37-3build5) ...

Setting up libmnl0:amd64 (1.0.4-3build2) ...

Setting up fonts-dejavu-core (2.37-2build1) ...

Setting up ucf (3.0043) ...

debconf: unable to initialize frontend: Dialog

debconf: (TERM is not set, so the dialog frontend is not usable.)

debconf: falling back to frontend: Readline

debconf: unable to initialize frontend: Readline

debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.34.0 /usr/local/share/perl/5.34.0 /usr/lib/x86_64-linux-gnu/perl5/5.34 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.34 /usr/share/perl/5.34 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)

debconf: falling back to frontend: Teletype

Setting up libjpeg-turbo8:amd64 (2.1.2-0ubuntu1) ...

Setting up libxtables12:amd64 (1.8.7-1ubuntu5) ...

Setting up libwebp7:amd64 (1.2.2-2) ...

Setting up libmd0:amd64 (1.0.4-1build1) ...

Setting up libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.3) ...

Setting up libbsd0:amd64 (0.11.5-1) ...

Setting up libelf1:amd64 (0.186-1build1) ...

Setting up libpam-cap:amd64 (1:2.44-1build3) ...

debconf: unable to initialize frontend: Dialog

debconf: (TERM is not set, so the dialog frontend is not usable.)

debconf: falling back to frontend: Readline

debconf: unable to initialize frontend: Readline

debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.34.0 /usr/local/share/perl/5.34.0 /usr/lib/x86_64-linux-gnu/perl5/5.34 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.34 /usr/share/perl/5.34 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)

debconf: falling back to frontend: Teletype

Setting up libicu70:amd64 (70.1-2) ...

Setting up libjpeg8:amd64 (8c-2ubuntu10) ...

Setting up libnginx-mod-mail (1.18.0-6ubuntu14.3) ...

Setting up libxdmcp6:amd64 (1:1.1.3-0ubuntu5) ...

Setting up libxcb1:amd64 (1.14-3ubuntu3) ...

Setting up fontconfig-config (2.13.1-4.2ubuntu5) ...

Setting up libnginx-mod-stream (1.18.0-6ubuntu14.3) ...

Setting up libfreetype6:amd64 (2.11.1+dfsg-1ubuntu0.1) ...

Setting up libx11-6:amd64 (2:1.7.5-1) ...

Setting up libtiff5:amd64 (4.3.0-6ubuntu0.3) ...

Setting up libfontconfig1:amd64 (2.13.1-4.2ubuntu5) ...

Setting up libbpf0:amd64 (1:0.5.0-1ubuntu22.04.1) ...

Setting up libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.3) ...

Setting up libxml2:amd64 (2.9.13+dfsg-1ubuntu0.2) ...

Setting up libxpm4:amd64 (1:3.5.12-1ubuntu0.22.04.1) ...

Setting up iproute2 (5.15.0-1ubuntu2) ...

debconf: unable to initialize frontend: Dialog

debconf: (TERM is not set, so the dialog frontend is not usable.)

debconf: falling back to frontend: Readline

debconf: unable to initialize frontend: Readline

debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.34.0 /usr/local/share/perl/5.34.0 /usr/lib/x86_64-linux-gnu/perl5/5.34 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.34 /usr/share/perl/5.34 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)

debconf: falling back to frontend: Teletype

Setting up libgd3:amd64 (2.3.0-2ubuntu2) ...

Setting up libxslt1.1:amd64 (1.1.34-4ubuntu0.22.04.1) ...

Setting up libnginx-mod-http-image-filter (1.18.0-6ubuntu14.3) ...

Setting up libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.3) ...

Setting up nginx-core (1.18.0-6ubuntu14.3) ...

invoke-rc.d: could not determine current runlevel

invoke-rc.d: policy-rc.d denied execution of start.

Setting up nginx (1.18.0-6ubuntu14.3) ...

Processing triggers for libc-bin (2.35-0ubuntu3.1) ...

Removing intermediate container 9cbc3662eb59

 ---> a49ad42f10fc

Step 5/7 : VOLUME "/var/www/leaclover.local"

 ---> Running in 115e98607e4c

Removing intermediate container 115e98607e4c

 ---> 71cb318cf236

Step 6/7 : EXPOSE 80

 ---> Running in 4dde9554c606

Removing intermediate container 4dde9554c606

 ---> e3b6c8e4f6e3

Step 7/7 : CMD /usr/sbin/nginx -g "daemon off;"

 ---> Running in dfd0ff50bb14

Removing intermediate container dfd0ff50bb14

 ---> 492be9abd119

Successfully built 492be9abd119

Successfully tagged my_test_image:latest

leaclover@leaclover-VirtualBox:~/code/test$ cat Dockerfile

FROM ubuntu:latest

MAINTAINER leaclover

RUN apt-get update

RUN apt-get install nginx -y

VOLUME "/var/www/leaclover.local"

EXPOSE 80

CMD /usr/sbin/nginx -g "daemon off;"

leaclover@leaclover-VirtualBox:~/code/test$ docker images

REPOSITORY               TAG       IMAGE ID       CREATED         SIZE

my_test_image            latest    492be9abd119   4 minutes ago   175MB

ubuntu                   latest    58db3edaf2be   13 days ago     77.8MB

docker/getting-started   latest    3e4394f6b72f   6 weeks ago     47MB

leaclover@leaclover-VirtualBox:~/code/test$ docker run -it --name Ubuntu1804 ubuntu:18.04 /bin/bash

Unable to find image 'ubuntu:18.04' locally

18.04: Pulling from library/ubuntu

72d9f18d70f3: Pull complete 

Digest: sha256:a3765b4d74747b5e9bdd03205b3fbc4fa19a02781c185f97f24c8f4f84ed7bbf

Status: Downloaded newer image for ubuntu:18.04

root@53def9cb15c2:/# ll

total 72

drwxr-xr-x   1 root root 4096 Feb  8 21:51 ./

drwxr-xr-x   1 root root 4096 Feb  8 21:51 ../

-rwxr-xr-x   1 root root    0 Feb  8 21:51 .dockerenv*

drwxr-xr-x   2 root root 4096 Jan 26 08:32 bin/

drwxr-xr-x   2 root root 4096 Apr 24  2018 boot/

drwxr-xr-x   5 root root  360 Feb  8 21:51 dev/

drwxr-xr-x   1 root root 4096 Feb  8 21:51 etc/

drwxr-xr-x   2 root root 4096 Apr 24  2018 home/

drwxr-xr-x   8 root root 4096 May 23  2017 lib/

drwxr-xr-x   2 root root 4096 Jan 26 08:32 lib64/

drwxr-xr-x   2 root root 4096 Jan 26 08:31 media/

drwxr-xr-x   2 root root 4096 Jan 26 08:31 mnt/

drwxr-xr-x   2 root root 4096 Jan 26 08:31 opt/

dr-xr-xr-x 307 root root    0 Feb  8 21:51 proc/

drwx------   2 root root 4096 Jan 26 08:32 root/

drwxr-xr-x   5 root root 4096 Jan 26 08:32 run/

drwxr-xr-x   2 root root 4096 Jan 26 08:32 sbin/

drwxr-xr-x   2 root root 4096 Jan 26 08:31 srv/

dr-xr-xr-x  13 root root    0 Feb  8 21:51 sys/

drwxrwxrwt   2 root root 4096 Jan 26 08:32 tmp/

drwxr-xr-x  10 root root 4096 Jan 26 08:31 usr/

drwxr-xr-x  11 root root 4096 Jan 26 08:32 var/

root@53def9cb15c2:/# exit

exit

leaclover@leaclover-VirtualBox:~/code/test$ docker ps -a

CONTAINER ID   IMAGE                    COMMAND                  CREATED              STATUS                      PORTS     NAMES

53def9cb15c2   ubuntu:18.04             "/bin/bash"              About a minute ago   Exited (0) 37 seconds ago             Ubuntu1804

250294c55f33   docker/getting-started   "/docker-entrypoint.…"   26 minutes ago       Exited (0) 24 minutes ago             intelligent_jang

leaclover@leaclover-VirtualBox:~/code/test$ docker ps

CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES

leaclover@leaclover-VirtualBox:~/code/test$ sudo nano Dockerfile

[sudo] пароль для leaclover: 

#### Dockerfile

FROM ubuntu:latest

MAINTAINER leaclover

ARG DEBIAN_FRONTEND=noninteractive

RUN apt update -y \

  && apt-get install -y --no-install-recommends \

       nginx \

       php-fpm



ENV php_conf /etc/php/8.1/fpm/php.ini



RUN sed -i -e 's/;cgi.fix_pathinfo=1/cgi.fix_pathinfo=0/g' ${php_conf}



VOLUME "/var/www/leaclover.local"

EXPOSE 80

CMD /usr/sbin/nginx -g "daemon off;"

####

leaclover@leaclover-VirtualBox:~/code/test$ docker build -t my_nginx_php-fpm_image .

Sending build context to Docker daemon  2.048kB

Step 1/9 : FROM ubuntu:latest

 ---> 58db3edaf2be

Step 2/9 : MAINTAINER leaclover

 ---> Using cache

 ---> 408461adb8ce

Step 3/9 : ARG DEBIAN_FRONTEND=noninteractive

 ---> Running in 80345a43c534

Removing intermediate container 80345a43c534

 ---> f9de1df04895

Step 4/9 : RUN apt update -y   && apt-get install -y --no-install-recommends        nginx        php-fpm

 ---> Running in 739e5c078ee5



WARNING: apt does not have a stable CLI interface. Use with caution in scripts.



Get:1 http://security.ubuntu.com/ubuntu jammy-security InRelease [110 kB]

Get:2 http://archive.ubuntu.com/ubuntu jammy InRelease [270 kB]

Get:3 http://security.ubuntu.com/ubuntu jammy-security/multiverse amd64 Packages [5557 B]

Get:4 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 Packages [681 kB]

Get:5 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [119 kB]

Get:6 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 Packages [799 kB]

Get:7 http://archive.ubuntu.com/ubuntu jammy-backports InRelease [107 kB]

Get:8 http://archive.ubuntu.com/ubuntu jammy/universe amd64 Packages [17.5 MB]

Get:9 http://security.ubuntu.com/ubuntu jammy-security/main amd64 Packages [754 kB]

Get:10 http://archive.ubuntu.com/ubuntu jammy/restricted amd64 Packages [164 kB]

Get:11 http://archive.ubuntu.com/ubuntu jammy/multiverse amd64 Packages [266 kB]

Get:12 http://archive.ubuntu.com/ubuntu jammy/main amd64 Packages [1792 kB]

Get:13 http://archive.ubuntu.com/ubuntu jammy-updates/restricted amd64 Packages [758 kB]

Get:14 http://archive.ubuntu.com/ubuntu jammy-updates/multiverse amd64 Packages [9666 B]

Get:15 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages [1106 kB]

Get:16 http://archive.ubuntu.com/ubuntu jammy-updates/universe amd64 Packages [1012 kB]

Get:17 http://archive.ubuntu.com/ubuntu jammy-backports/main amd64 Packages [49.0 kB]

Get:18 http://archive.ubuntu.com/ubuntu jammy-backports/universe amd64 Packages [22.4 kB]

Fetched 25.5 MB in 19s (1323 kB/s)

Reading package lists...

Building dependency tree...

Reading state information...

5 packages can be upgraded. Run 'apt list --upgradable' to see them.

Reading package lists...

Building dependency tree...

Reading state information...

The following additional packages will be installed:

  fontconfig-config fonts-dejavu-core iproute2 libapparmor1 libargon2-1

  libbpf0 libbrotli1 libbsd0 libcap2-bin libcryptsetup12 libdeflate0

  libdevmapper1.02.1 libedit2 libelf1 libexpat1 libfontconfig1 libfreetype6

  libgd3 libgdbm-compat4 libgdbm6 libicu70 libip4tc2 libjbig0 libjpeg-turbo8

  libjpeg8 libjson-c5 libkmod2 libmagic-mgc libmagic1 libmaxminddb0 libmd0

  libmnl0 libnginx-mod-http-geoip2 libnginx-mod-http-image-filter

  libnginx-mod-http-xslt-filter libnginx-mod-mail libnginx-mod-stream

  libnginx-mod-stream-geoip2 libperl5.34 libpng16-16 libsodium23 libtiff5

  libwebp7 libx11-6 libx11-data libxau6 libxcb1 libxdmcp6 libxml2 libxpm4

  libxslt1.1 libxtables12 mailcap media-types mime-support nginx-common

  nginx-core perl perl-modules-5.34 php-common php8.1-cli php8.1-common

  php8.1-fpm php8.1-opcache php8.1-readline psmisc systemd tzdata ucf

Suggested packages:

  iproute2-doc libgd-tools gdbm-l10n file mmdb-bin fcgiwrap nginx-doc ssl-cert

  perl-doc libterm-readline-gnu-perl | libterm-readline-perl-perl make

  libtap-harness-archive-perl php-pear systemd-container libfido2-1

  libtss2-esys-3.0.2-0 libtss2-mu0 libtss2-rc0 policykit-1

Recommended packages:

  libatm1 libpam-cap dmsetup bzip2 file xz-utils netbase

  default-dbus-system-bus | dbus-system-bus networkd-dispatcher

  systemd-timesyncd | time-daemon

The following NEW packages will be installed:

  fontconfig-config fonts-dejavu-core iproute2 libapparmor1 libargon2-1

  libbpf0 libbrotli1 libbsd0 libcap2-bin libcryptsetup12 libdeflate0

  libdevmapper1.02.1 libedit2 libelf1 libexpat1 libfontconfig1 libfreetype6

  libgd3 libgdbm-compat4 libgdbm6 libicu70 libip4tc2 libjbig0 libjpeg-turbo8

  libjpeg8 libjson-c5 libkmod2 libmagic-mgc libmagic1 libmaxminddb0 libmd0

  libmnl0 libnginx-mod-http-geoip2 libnginx-mod-http-image-filter

  libnginx-mod-http-xslt-filter libnginx-mod-mail libnginx-mod-stream

  libnginx-mod-stream-geoip2 libperl5.34 libpng16-16 libsodium23 libtiff5

  libwebp7 libx11-6 libx11-data libxau6 libxcb1 libxdmcp6 libxml2 libxpm4

  libxslt1.1 libxtables12 mailcap media-types mime-support nginx nginx-common

  nginx-core perl perl-modules-5.34 php-common php-fpm php8.1-cli

  php8.1-common php8.1-fpm php8.1-opcache php8.1-readline psmisc systemd

  tzdata ucf

0 upgraded, 71 newly installed, 0 to remove and 5 not upgraded.

Need to get 37.0 MB of archives.

After this operation, 157 MB of additional disk space will be used.

Get:1 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libapparmor1 amd64 3.0.4-2ubuntu2.1 [38.7 kB]

Get:2 http://archive.ubuntu.com/ubuntu jammy/main amd64 libargon2-1 amd64 0~20171227-0.3 [19.5 kB]

Get:3 http://archive.ubuntu.com/ubuntu jammy/main amd64 libdevmapper1.02.1 amd64 2:1.02.175-2.1ubuntu4 [139 kB]

Get:4 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libjson-c5 amd64 0.15-3~ubuntu1.22.04.1 [33.5 kB]

Get:5 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libcryptsetup12 amd64 2:2.4.3-1ubuntu1.1 [211 kB]

Get:6 http://archive.ubuntu.com/ubuntu jammy/main amd64 libip4tc2 amd64 1.8.7-1ubuntu5 [19.7 kB]

Get:7 http://archive.ubuntu.com/ubuntu jammy/main amd64 libkmod2 amd64 29-1ubuntu1 [48.0 kB]

Get:8 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 systemd amd64 249.11-0ubuntu3.6 [4580 kB]

Get:9 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 perl-modules-5.34 all 5.34.0-3ubuntu1.1 [2976 kB]

Get:10 http://archive.ubuntu.com/ubuntu jammy/main amd64 libgdbm6 amd64 1.23-1 [33.9 kB]

Get:11 http://archive.ubuntu.com/ubuntu jammy/main amd64 libgdbm-compat4 amd64 1.23-1 [6606 B]

Get:12 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libperl5.34 amd64 5.34.0-3ubuntu1.1 [4819 kB]

Get:13 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 perl amd64 5.34.0-3ubuntu1.1 [232 kB]

Get:14 http://archive.ubuntu.com/ubuntu jammy/main amd64 libelf1 amd64 0.186-1build1 [51.0 kB]

Get:15 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libbpf0 amd64 1:0.5.0-1ubuntu22.04.1 [140 kB]

Get:16 http://archive.ubuntu.com/ubuntu jammy/main amd64 libmd0 amd64 1.0.4-1build1 [23.0 kB]

Get:17 http://archive.ubuntu.com/ubuntu jammy/main amd64 libbsd0 amd64 0.11.5-1 [44.8 kB]

Get:18 http://archive.ubuntu.com/ubuntu jammy/main amd64 libmnl0 amd64 1.0.4-3build2 [13.2 kB]

Get:19 http://archive.ubuntu.com/ubuntu jammy/main amd64 libxtables12 amd64 1.8.7-1ubuntu5 [31.2 kB]

Get:20 http://archive.ubuntu.com/ubuntu jammy/main amd64 libcap2-bin amd64 1:2.44-1build3 [26.0 kB]

Get:21 http://archive.ubuntu.com/ubuntu jammy/main amd64 iproute2 amd64 5.15.0-1ubuntu2 [1070 kB]

Get:22 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libexpat1 amd64 2.4.7-1ubuntu0.2 [91.0 kB]

Get:23 http://archive.ubuntu.com/ubuntu jammy/main amd64 libicu70 amd64 70.1-2 [10.6 MB]

Get:24 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libxml2 amd64 2.9.13+dfsg-1ubuntu0.2 [764 kB]

Get:25 http://archive.ubuntu.com/ubuntu jammy/main amd64 media-types all 7.0.0 [25.5 kB]

Get:26 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 tzdata all 2022g-0ubuntu0.22.04.1 [333 kB]

Get:27 http://archive.ubuntu.com/ubuntu jammy/main amd64 ucf all 3.0043 [56.1 kB]

Get:28 http://archive.ubuntu.com/ubuntu jammy/main amd64 libedit2 amd64 3.1-20210910-1build1 [96.8 kB]

Get:29 http://archive.ubuntu.com/ubuntu jammy/main amd64 libmagic-mgc amd64 1:5.41-3 [257 kB]

Get:30 http://archive.ubuntu.com/ubuntu jammy/main amd64 libmagic1 amd64 1:5.41-3 [87.2 kB]

Get:31 http://archive.ubuntu.com/ubuntu jammy/main amd64 libmaxminddb0 amd64 1.5.2-1build2 [24.7 kB]

Get:32 http://archive.ubuntu.com/ubuntu jammy/main amd64 libpng16-16 amd64 1.6.37-3build5 [191 kB]

Get:33 http://archive.ubuntu.com/ubuntu jammy/main amd64 libxau6 amd64 1:1.0.9-1build5 [7634 B]

Get:34 http://archive.ubuntu.com/ubuntu jammy/main amd64 libxdmcp6 amd64 1:1.1.3-0ubuntu5 [10.9 kB]

Get:35 http://archive.ubuntu.com/ubuntu jammy/main amd64 libxcb1 amd64 1.14-3ubuntu3 [49.0 kB]

Get:36 http://archive.ubuntu.com/ubuntu jammy/main amd64 libx11-data all 2:1.7.5-1 [119 kB]

Get:37 http://archive.ubuntu.com/ubuntu jammy/main amd64 libx11-6 amd64 2:1.7.5-1 [666 kB]

Get:38 http://archive.ubuntu.com/ubuntu jammy/main amd64 psmisc amd64 23.4-2build3 [119 kB]

Get:39 http://archive.ubuntu.com/ubuntu jammy/main amd64 fonts-dejavu-core all 2.37-2build1 [1041 kB]

Get:40 http://archive.ubuntu.com/ubuntu jammy/main amd64 fontconfig-config all 2.13.1-4.2ubuntu5 [29.1 kB]

Get:41 http://archive.ubuntu.com/ubuntu jammy/main amd64 libbrotli1 amd64 1.0.9-2build6 [315 kB]

Get:42 http://archive.ubuntu.com/ubuntu jammy/main amd64 libdeflate0 amd64 1.10-2 [70.9 kB]

Get:43 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libfreetype6 amd64 2.11.1+dfsg-1ubuntu0.1 [389 kB]

Get:44 http://archive.ubuntu.com/ubuntu jammy/main amd64 libfontconfig1 amd64 2.13.1-4.2ubuntu5 [131 kB]

Get:45 http://archive.ubuntu.com/ubuntu jammy/main amd64 libjpeg-turbo8 amd64 2.1.2-0ubuntu1 [134 kB]

Get:46 http://archive.ubuntu.com/ubuntu jammy/main amd64 libjpeg8 amd64 8c-2ubuntu10 [2264 B]

Get:47 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libjbig0 amd64 2.1-3.1ubuntu0.22.04.1 [29.2 kB]

Get:48 http://archive.ubuntu.com/ubuntu jammy/main amd64 libwebp7 amd64 1.2.2-2 [206 kB]

Get:49 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libtiff5 amd64 4.3.0-6ubuntu0.3 [183 kB]

Get:50 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libxpm4 amd64 1:3.5.12-1ubuntu0.22.04.1 [36.4 kB]

Get:51 http://archive.ubuntu.com/ubuntu jammy/main amd64 libgd3 amd64 2.3.0-2ubuntu2 [129 kB]

Get:52 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-common all 1.18.0-6ubuntu14.3 [40.0 kB]

Get:53 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-geoip2 amd64 1.18.0-6ubuntu14.3 [11.9 kB]

Get:54 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-image-filter amd64 1.18.0-6ubuntu14.3 [15.4 kB]

Get:55 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libxslt1.1 amd64 1.1.34-4ubuntu0.22.04.1 [164 kB]

Get:56 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-xslt-filter amd64 1.18.0-6ubuntu14.3 [13.7 kB]

Get:57 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-mail amd64 1.18.0-6ubuntu14.3 [45.7 kB]

Get:58 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream amd64 1.18.0-6ubuntu14.3 [72.8 kB]

Get:59 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream-geoip2 amd64 1.18.0-6ubuntu14.3 [10.1 kB]

Get:60 http://archive.ubuntu.com/ubuntu jammy/main amd64 libsodium23 amd64 1.0.18-1build2 [164 kB]

Get:61 http://archive.ubuntu.com/ubuntu jammy/main amd64 mailcap all 3.70+nmu1ubuntu1 [23.8 kB]

Get:62 http://archive.ubuntu.com/ubuntu jammy/main amd64 mime-support all 3.66 [3696 B]

Get:63 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-core amd64 1.18.0-6ubuntu14.3 [482 kB]

Get:64 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx amd64 1.18.0-6ubuntu14.3 [3882 B]

Get:65 http://archive.ubuntu.com/ubuntu jammy/main amd64 php-common all 2:92ubuntu1 [12.4 kB]

Get:66 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 php8.1-common amd64 8.1.2-1ubuntu2.10 [1126 kB]

Get:67 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 php8.1-opcache amd64 8.1.2-1ubuntu2.10 [365 kB]

Get:68 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 php8.1-readline amd64 8.1.2-1ubuntu2.10 [13.6 kB]

Get:69 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 php8.1-cli amd64 8.1.2-1ubuntu2.10 [1833 kB]

Get:70 http://archive.ubuntu.com/ubuntu jammy-updates/universe amd64 php8.1-fpm amd64 8.1.2-1ubuntu2.10 [1840 kB]

Get:71 http://archive.ubuntu.com/ubuntu jammy/universe amd64 php-fpm all 2:8.1+92ubuntu1 [2838 B]

debconf: delaying package configuration, since apt-utils is not installed

Fetched 37.0 MB in 27s (1390 kB/s)

Selecting previously unselected package libapparmor1:amd64.

(Reading database ... 4395 files and directories currently installed.)

Preparing to unpack .../00-libapparmor1_3.0.4-2ubuntu2.1_amd64.deb ...

Unpacking libapparmor1:amd64 (3.0.4-2ubuntu2.1) ...

Selecting previously unselected package libargon2-1:amd64.

Preparing to unpack .../01-libargon2-1_0~20171227-0.3_amd64.deb ...

Unpacking libargon2-1:amd64 (0~20171227-0.3) ...

Selecting previously unselected package libdevmapper1.02.1:amd64.

Preparing to unpack .../02-libdevmapper1.02.1_2%3a1.02.175-2.1ubuntu4_amd64.deb ...

Unpacking libdevmapper1.02.1:amd64 (2:1.02.175-2.1ubuntu4) ...

Selecting previously unselected package libjson-c5:amd64.

Preparing to unpack .../03-libjson-c5_0.15-3~ubuntu1.22.04.1_amd64.deb ...

Unpacking libjson-c5:amd64 (0.15-3~ubuntu1.22.04.1) ...

Selecting previously unselected package libcryptsetup12:amd64.

Preparing to unpack .../04-libcryptsetup12_2%3a2.4.3-1ubuntu1.1_amd64.deb ...

Unpacking libcryptsetup12:amd64 (2:2.4.3-1ubuntu1.1) ...

Selecting previously unselected package libip4tc2:amd64.

Preparing to unpack .../05-libip4tc2_1.8.7-1ubuntu5_amd64.deb ...

Unpacking libip4tc2:amd64 (1.8.7-1ubuntu5) ...

Selecting previously unselected package libkmod2:amd64.

Preparing to unpack .../06-libkmod2_29-1ubuntu1_amd64.deb ...

Unpacking libkmod2:amd64 (29-1ubuntu1) ...

Selecting previously unselected package systemd.

Preparing to unpack .../07-systemd_249.11-0ubuntu3.6_amd64.deb ...

Unpacking systemd (249.11-0ubuntu3.6) ...

Selecting previously unselected package perl-modules-5.34.

Preparing to unpack .../08-perl-modules-5.34_5.34.0-3ubuntu1.1_all.deb ...

Unpacking perl-modules-5.34 (5.34.0-3ubuntu1.1) ...

Selecting previously unselected package libgdbm6:amd64.

Preparing to unpack .../09-libgdbm6_1.23-1_amd64.deb ...

Unpacking libgdbm6:amd64 (1.23-1) ...

Selecting previously unselected package libgdbm-compat4:amd64.

Preparing to unpack .../10-libgdbm-compat4_1.23-1_amd64.deb ...

Unpacking libgdbm-compat4:amd64 (1.23-1) ...

Selecting previously unselected package libperl5.34:amd64.

Preparing to unpack .../11-libperl5.34_5.34.0-3ubuntu1.1_amd64.deb ...

Unpacking libperl5.34:amd64 (5.34.0-3ubuntu1.1) ...

Selecting previously unselected package perl.

Preparing to unpack .../12-perl_5.34.0-3ubuntu1.1_amd64.deb ...

Unpacking perl (5.34.0-3ubuntu1.1) ...

Selecting previously unselected package libelf1:amd64.

Preparing to unpack .../13-libelf1_0.186-1build1_amd64.deb ...

Unpacking libelf1:amd64 (0.186-1build1) ...

Selecting previously unselected package libbpf0:amd64.

Preparing to unpack .../14-libbpf0_1%3a0.5.0-1ubuntu22.04.1_amd64.deb ...

Unpacking libbpf0:amd64 (1:0.5.0-1ubuntu22.04.1) ...

Selecting previously unselected package libmd0:amd64.

Preparing to unpack .../15-libmd0_1.0.4-1build1_amd64.deb ...

Unpacking libmd0:amd64 (1.0.4-1build1) ...

Selecting previously unselected package libbsd0:amd64.

Preparing to unpack .../16-libbsd0_0.11.5-1_amd64.deb ...

Unpacking libbsd0:amd64 (0.11.5-1) ...

Selecting previously unselected package libmnl0:amd64.

Preparing to unpack .../17-libmnl0_1.0.4-3build2_amd64.deb ...

Unpacking libmnl0:amd64 (1.0.4-3build2) ...

Selecting previously unselected package libxtables12:amd64.

Preparing to unpack .../18-libxtables12_1.8.7-1ubuntu5_amd64.deb ...

Unpacking libxtables12:amd64 (1.8.7-1ubuntu5) ...

Selecting previously unselected package libcap2-bin.

Preparing to unpack .../19-libcap2-bin_1%3a2.44-1build3_amd64.deb ...

Unpacking libcap2-bin (1:2.44-1build3) ...

Selecting previously unselected package iproute2.

Preparing to unpack .../20-iproute2_5.15.0-1ubuntu2_amd64.deb ...

Unpacking iproute2 (5.15.0-1ubuntu2) ...

Selecting previously unselected package libexpat1:amd64.

Preparing to unpack .../21-libexpat1_2.4.7-1ubuntu0.2_amd64.deb ...

Unpacking libexpat1:amd64 (2.4.7-1ubuntu0.2) ...

Selecting previously unselected package libicu70:amd64.

Preparing to unpack .../22-libicu70_70.1-2_amd64.deb ...

Unpacking libicu70:amd64 (70.1-2) ...

Selecting previously unselected package libxml2:amd64.

Preparing to unpack .../23-libxml2_2.9.13+dfsg-1ubuntu0.2_amd64.deb ...

Unpacking libxml2:amd64 (2.9.13+dfsg-1ubuntu0.2) ...

Selecting previously unselected package media-types.

Preparing to unpack .../24-media-types_7.0.0_all.deb ...

Unpacking media-types (7.0.0) ...

Selecting previously unselected package tzdata.

Preparing to unpack .../25-tzdata_2022g-0ubuntu0.22.04.1_all.deb ...

Unpacking tzdata (2022g-0ubuntu0.22.04.1) ...

Selecting previously unselected package ucf.

Preparing to unpack .../26-ucf_3.0043_all.deb ...

Moving old data out of the way

Unpacking ucf (3.0043) ...

Selecting previously unselected package libedit2:amd64.

Preparing to unpack .../27-libedit2_3.1-20210910-1build1_amd64.deb ...

Unpacking libedit2:amd64 (3.1-20210910-1build1) ...

Selecting previously unselected package libmagic-mgc.

Preparing to unpack .../28-libmagic-mgc_1%3a5.41-3_amd64.deb ...

Unpacking libmagic-mgc (1:5.41-3) ...

Selecting previously unselected package libmagic1:amd64.

Preparing to unpack .../29-libmagic1_1%3a5.41-3_amd64.deb ...

Unpacking libmagic1:amd64 (1:5.41-3) ...

Selecting previously unselected package libmaxminddb0:amd64.

Preparing to unpack .../30-libmaxminddb0_1.5.2-1build2_amd64.deb ...

Unpacking libmaxminddb0:amd64 (1.5.2-1build2) ...

Selecting previously unselected package libpng16-16:amd64.

Preparing to unpack .../31-libpng16-16_1.6.37-3build5_amd64.deb ...

Unpacking libpng16-16:amd64 (1.6.37-3build5) ...

Selecting previously unselected package libxau6:amd64.

Preparing to unpack .../32-libxau6_1%3a1.0.9-1build5_amd64.deb ...

Unpacking libxau6:amd64 (1:1.0.9-1build5) ...

Selecting previously unselected package libxdmcp6:amd64.

Preparing to unpack .../33-libxdmcp6_1%3a1.1.3-0ubuntu5_amd64.deb ...

Unpacking libxdmcp6:amd64 (1:1.1.3-0ubuntu5) ...

Selecting previously unselected package libxcb1:amd64.

Preparing to unpack .../34-libxcb1_1.14-3ubuntu3_amd64.deb ...

Unpacking libxcb1:amd64 (1.14-3ubuntu3) ...

Selecting previously unselected package libx11-data.

Preparing to unpack .../35-libx11-data_2%3a1.7.5-1_all.deb ...

Unpacking libx11-data (2:1.7.5-1) ...

Selecting previously unselected package libx11-6:amd64.

Preparing to unpack .../36-libx11-6_2%3a1.7.5-1_amd64.deb ...

Unpacking libx11-6:amd64 (2:1.7.5-1) ...

Selecting previously unselected package psmisc.

Preparing to unpack .../37-psmisc_23.4-2build3_amd64.deb ...

Unpacking psmisc (23.4-2build3) ...

Selecting previously unselected package fonts-dejavu-core.

Preparing to unpack .../38-fonts-dejavu-core_2.37-2build1_all.deb ...

Unpacking fonts-dejavu-core (2.37-2build1) ...

Selecting previously unselected package fontconfig-config.

Preparing to unpack .../39-fontconfig-config_2.13.1-4.2ubuntu5_all.deb ...

Unpacking fontconfig-config (2.13.1-4.2ubuntu5) ...

Selecting previously unselected package libbrotli1:amd64.

Preparing to unpack .../40-libbrotli1_1.0.9-2build6_amd64.deb ...

Unpacking libbrotli1:amd64 (1.0.9-2build6) ...

Selecting previously unselected package libdeflate0:amd64.

Preparing to unpack .../41-libdeflate0_1.10-2_amd64.deb ...

Unpacking libdeflate0:amd64 (1.10-2) ...

Selecting previously unselected package libfreetype6:amd64.

Preparing to unpack .../42-libfreetype6_2.11.1+dfsg-1ubuntu0.1_amd64.deb ...

Unpacking libfreetype6:amd64 (2.11.1+dfsg-1ubuntu0.1) ...

Selecting previously unselected package libfontconfig1:amd64.

Preparing to unpack .../43-libfontconfig1_2.13.1-4.2ubuntu5_amd64.deb ...

Unpacking libfontconfig1:amd64 (2.13.1-4.2ubuntu5) ...

Selecting previously unselected package libjpeg-turbo8:amd64.

Preparing to unpack .../44-libjpeg-turbo8_2.1.2-0ubuntu1_amd64.deb ...

Unpacking libjpeg-turbo8:amd64 (2.1.2-0ubuntu1) ...

Selecting previously unselected package libjpeg8:amd64.

Preparing to unpack .../45-libjpeg8_8c-2ubuntu10_amd64.deb ...

Unpacking libjpeg8:amd64 (8c-2ubuntu10) ...

Selecting previously unselected package libjbig0:amd64.

Preparing to unpack .../46-libjbig0_2.1-3.1ubuntu0.22.04.1_amd64.deb ...

Unpacking libjbig0:amd64 (2.1-3.1ubuntu0.22.04.1) ...

Selecting previously unselected package libwebp7:amd64.

Preparing to unpack .../47-libwebp7_1.2.2-2_amd64.deb ...

Unpacking libwebp7:amd64 (1.2.2-2) ...

Selecting previously unselected package libtiff5:amd64.

Preparing to unpack .../48-libtiff5_4.3.0-6ubuntu0.3_amd64.deb ...

Unpacking libtiff5:amd64 (4.3.0-6ubuntu0.3) ...

Selecting previously unselected package libxpm4:amd64.

Preparing to unpack .../49-libxpm4_1%3a3.5.12-1ubuntu0.22.04.1_amd64.deb ...

Unpacking libxpm4:amd64 (1:3.5.12-1ubuntu0.22.04.1) ...

Selecting previously unselected package libgd3:amd64.

Preparing to unpack .../50-libgd3_2.3.0-2ubuntu2_amd64.deb ...

Unpacking libgd3:amd64 (2.3.0-2ubuntu2) ...

Selecting previously unselected package nginx-common.

Preparing to unpack .../51-nginx-common_1.18.0-6ubuntu14.3_all.deb ...

Unpacking nginx-common (1.18.0-6ubuntu14.3) ...

Selecting previously unselected package libnginx-mod-http-geoip2.

Preparing to unpack .../52-libnginx-mod-http-geoip2_1.18.0-6ubuntu14.3_amd64.deb ...

Unpacking libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.3) ...

Selecting previously unselected package libnginx-mod-http-image-filter.

Preparing to unpack .../53-libnginx-mod-http-image-filter_1.18.0-6ubuntu14.3_amd64.deb ...

Unpacking libnginx-mod-http-image-filter (1.18.0-6ubuntu14.3) ...

Selecting previously unselected package libxslt1.1:amd64.

Preparing to unpack .../54-libxslt1.1_1.1.34-4ubuntu0.22.04.1_amd64.deb ...

Unpacking libxslt1.1:amd64 (1.1.34-4ubuntu0.22.04.1) ...

Selecting previously unselected package libnginx-mod-http-xslt-filter.

Preparing to unpack .../55-libnginx-mod-http-xslt-filter_1.18.0-6ubuntu14.3_amd64.deb ...

Unpacking libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.3) ...

Selecting previously unselected package libnginx-mod-mail.

Preparing to unpack .../56-libnginx-mod-mail_1.18.0-6ubuntu14.3_amd64.deb ...

Unpacking libnginx-mod-mail (1.18.0-6ubuntu14.3) ...

Selecting previously unselected package libnginx-mod-stream.

Preparing to unpack .../57-libnginx-mod-stream_1.18.0-6ubuntu14.3_amd64.deb ...

Unpacking libnginx-mod-stream (1.18.0-6ubuntu14.3) ...

Selecting previously unselected package libnginx-mod-stream-geoip2.

Preparing to unpack .../58-libnginx-mod-stream-geoip2_1.18.0-6ubuntu14.3_amd64.deb ...

Unpacking libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.3) ...

Selecting previously unselected package libsodium23:amd64.

Preparing to unpack .../59-libsodium23_1.0.18-1build2_amd64.deb ...

Unpacking libsodium23:amd64 (1.0.18-1build2) ...

Selecting previously unselected package mailcap.

Preparing to unpack .../60-mailcap_3.70+nmu1ubuntu1_all.deb ...

Unpacking mailcap (3.70+nmu1ubuntu1) ...

Selecting previously unselected package mime-support.

Preparing to unpack .../61-mime-support_3.66_all.deb ...

Unpacking mime-support (3.66) ...

Selecting previously unselected package nginx-core.

Preparing to unpack .../62-nginx-core_1.18.0-6ubuntu14.3_amd64.deb ...

Unpacking nginx-core (1.18.0-6ubuntu14.3) ...

Selecting previously unselected package nginx.

Preparing to unpack .../63-nginx_1.18.0-6ubuntu14.3_amd64.deb ...

Unpacking nginx (1.18.0-6ubuntu14.3) ...

Selecting previously unselected package php-common.

Preparing to unpack .../64-php-common_2%3a92ubuntu1_all.deb ...

Unpacking php-common (2:92ubuntu1) ...

Selecting previously unselected package php8.1-common.

Preparing to unpack .../65-php8.1-common_8.1.2-1ubuntu2.10_amd64.deb ...

Unpacking php8.1-common (8.1.2-1ubuntu2.10) ...

Selecting previously unselected package php8.1-opcache.

Preparing to unpack .../66-php8.1-opcache_8.1.2-1ubuntu2.10_amd64.deb ...

Unpacking php8.1-opcache (8.1.2-1ubuntu2.10) ...

Selecting previously unselected package php8.1-readline.

Preparing to unpack .../67-php8.1-readline_8.1.2-1ubuntu2.10_amd64.deb ...

Unpacking php8.1-readline (8.1.2-1ubuntu2.10) ...

Selecting previously unselected package php8.1-cli.

Preparing to unpack .../68-php8.1-cli_8.1.2-1ubuntu2.10_amd64.deb ...

Unpacking php8.1-cli (8.1.2-1ubuntu2.10) ...

Selecting previously unselected package php8.1-fpm.

Preparing to unpack .../69-php8.1-fpm_8.1.2-1ubuntu2.10_amd64.deb ...

Unpacking php8.1-fpm (8.1.2-1ubuntu2.10) ...

Selecting previously unselected package php-fpm.

Preparing to unpack .../70-php-fpm_2%3a8.1+92ubuntu1_all.deb ...

Unpacking php-fpm (2:8.1+92ubuntu1) ...

Setting up libip4tc2:amd64 (1.8.7-1ubuntu5) ...

Setting up libexpat1:amd64 (2.4.7-1ubuntu0.2) ...

Setting up media-types (7.0.0) ...

Setting up libxau6:amd64 (1:1.0.9-1build5) ...

Setting up libapparmor1:amd64 (3.0.4-2ubuntu2.1) ...

Setting up libsodium23:amd64 (1.0.18-1build2) ...

Setting up libmagic-mgc (1:5.41-3) ...

Setting up psmisc (23.4-2build3) ...

Setting up libmaxminddb0:amd64 (1.5.2-1build2) ...

Setting up libargon2-1:amd64 (0~20171227-0.3) ...

Setting up libbrotli1:amd64 (1.0.9-2build6) ...

Setting up libmagic1:amd64 (1:5.41-3) ...

Setting up libdeflate0:amd64 (1.10-2) ...

Setting up nginx-common (1.18.0-6ubuntu14.3) ...

Created symlink /etc/systemd/system/multi-user.target.wants/nginx.service → /lib/systemd/system/nginx.service.

Setting up perl-modules-5.34 (5.34.0-3ubuntu1.1) ...

Setting up libjbig0:amd64 (2.1-3.1ubuntu0.22.04.1) ...

Setting up tzdata (2022g-0ubuntu0.22.04.1) ...



Current default time zone: 'Etc/UTC'

Local time is now:      Wed Feb  8 22:45:29 UTC 2023.

Universal Time is now:  Wed Feb  8 22:45:29 UTC 2023.

Run 'dpkg-reconfigure tzdata' if you wish to change it.



Setting up libcap2-bin (1:2.44-1build3) ...

Setting up libx11-data (2:1.7.5-1) ...

Setting up libpng16-16:amd64 (1.6.37-3build5) ...

Setting up libmnl0:amd64 (1.0.4-3build2) ...

Setting up fonts-dejavu-core (2.37-2build1) ...

Setting up ucf (3.0043) ...

Setting up libjpeg-turbo8:amd64 (2.1.2-0ubuntu1) ...

Setting up libxtables12:amd64 (1.8.7-1ubuntu5) ...

Setting up libwebp7:amd64 (1.2.2-2) ...

Setting up libdevmapper1.02.1:amd64 (2:1.02.175-2.1ubuntu4) ...

Setting up libmd0:amd64 (1.0.4-1build1) ...

Setting up libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.3) ...

Setting up libbsd0:amd64 (0.11.5-1) ...

Setting up libelf1:amd64 (0.186-1build1) ...

Setting up libjson-c5:amd64 (0.15-3~ubuntu1.22.04.1) ...

Setting up libkmod2:amd64 (29-1ubuntu1) ...

Setting up libgdbm6:amd64 (1.23-1) ...

Setting up libicu70:amd64 (70.1-2) ...

Setting up libjpeg8:amd64 (8c-2ubuntu10) ...

Setting up php-common (2:92ubuntu1) ...

Created symlink /etc/systemd/system/timers.target.wants/phpsessionclean.timer → /lib/systemd/system/phpsessionclean.timer.

Setting up libnginx-mod-mail (1.18.0-6ubuntu14.3) ...

Setting up libxdmcp6:amd64 (1:1.1.3-0ubuntu5) ...

Setting up libxcb1:amd64 (1.14-3ubuntu3) ...

Setting up php8.1-common (8.1.2-1ubuntu2.10) ...



Creating config file /etc/php/8.1/mods-available/calendar.ini with new version



Creating config file /etc/php/8.1/mods-available/ctype.ini with new version



Creating config file /etc/php/8.1/mods-available/exif.ini with new version



Creating config file /etc/php/8.1/mods-available/fileinfo.ini with new version



Creating config file /etc/php/8.1/mods-available/ffi.ini with new version



Creating config file /etc/php/8.1/mods-available/ftp.ini with new version



Creating config file /etc/php/8.1/mods-available/gettext.ini with new version



Creating config file /etc/php/8.1/mods-available/iconv.ini with new version



Creating config file /etc/php/8.1/mods-available/pdo.ini with new version



Creating config file /etc/php/8.1/mods-available/phar.ini with new version



Creating config file /etc/php/8.1/mods-available/posix.ini with new version



Creating config file /etc/php/8.1/mods-available/shmop.ini with new version



Creating config file /etc/php/8.1/mods-available/sockets.ini with new version



Creating config file /etc/php/8.1/mods-available/sysvmsg.ini with new version



Creating config file /etc/php/8.1/mods-available/sysvsem.ini with new version



Creating config file /etc/php/8.1/mods-available/sysvshm.ini with new version



Creating config file /etc/php/8.1/mods-available/tokenizer.ini with new version

Setting up fontconfig-config (2.13.1-4.2ubuntu5) ...

Setting up libedit2:amd64 (3.1-20210910-1build1) ...

Setting up libnginx-mod-stream (1.18.0-6ubuntu14.3) ...

Setting up libfreetype6:amd64 (2.11.1+dfsg-1ubuntu0.1) ...

Setting up libgdbm-compat4:amd64 (1.23-1) ...

Setting up libx11-6:amd64 (2:1.7.5-1) ...

Setting up libcryptsetup12:amd64 (2:2.4.3-1ubuntu1.1) ...

Setting up libtiff5:amd64 (4.3.0-6ubuntu0.3) ...

Setting up php8.1-readline (8.1.2-1ubuntu2.10) ...



Creating config file /etc/php/8.1/mods-available/readline.ini with new version

Setting up libfontconfig1:amd64 (2.13.1-4.2ubuntu5) ...

Setting up libbpf0:amd64 (1:0.5.0-1ubuntu22.04.1) ...

Setting up libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.3) ...

Setting up libxml2:amd64 (2.9.13+dfsg-1ubuntu0.2) ...

Setting up php8.1-opcache (8.1.2-1ubuntu2.10) ...



Creating config file /etc/php/8.1/mods-available/opcache.ini with new version

Setting up libperl5.34:amd64 (5.34.0-3ubuntu1.1) ...

Setting up libxpm4:amd64 (1:3.5.12-1ubuntu0.22.04.1) ...

Setting up iproute2 (5.15.0-1ubuntu2) ...

Setting up systemd (249.11-0ubuntu3.6) ...

Created symlink /etc/systemd/system/getty.target.wants/getty@tty1.service → /lib/systemd/system/getty@.service.

Created symlink /etc/systemd/system/multi-user.target.wants/remote-fs.target → /lib/systemd/system/remote-fs.target.

Created symlink /etc/systemd/system/dbus-org.freedesktop.resolve1.service → /lib/systemd/system/systemd-resolved.service.

Created symlink /etc/systemd/system/multi-user.target.wants/systemd-resolved.service → /lib/systemd/system/systemd-resolved.service.

ln: failed to create symbolic link '/etc/resolv.conf': Device or resource busy

Created symlink /etc/systemd/system/sysinit.target.wants/systemd-pstore.service → /lib/systemd/system/systemd-pstore.service.

Initializing machine ID from random generator.

Setting up perl (5.34.0-3ubuntu1.1) ...

Setting up libgd3:amd64 (2.3.0-2ubuntu2) ...

Setting up libxslt1.1:amd64 (1.1.34-4ubuntu0.22.04.1) ...

Setting up mailcap (3.70+nmu1ubuntu1) ...

Setting up mime-support (3.66) ...

Setting up libnginx-mod-http-image-filter (1.18.0-6ubuntu14.3) ...

Setting up libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.3) ...

Setting up php8.1-cli (8.1.2-1ubuntu2.10) ...

update-alternatives: using /usr/bin/php8.1 to provide /usr/bin/php (php) in auto mode

update-alternatives: warning: skip creation of /usr/share/man/man1/php.1.gz because associated file /usr/share/man/man1/php8.1.1.gz (of link group php) doesn't exist

update-alternatives: using /usr/bin/phar8.1 to provide /usr/bin/phar (phar) in auto mode

update-alternatives: warning: skip creation of /usr/share/man/man1/phar.1.gz because associated file /usr/share/man/man1/phar8.1.1.gz (of link group phar) doesn't exist

update-alternatives: using /usr/bin/phar.phar8.1 to provide /usr/bin/phar.phar (phar.phar) in auto mode

update-alternatives: warning: skip creation of /usr/share/man/man1/phar.phar.1.gz because associated file /usr/share/man/man1/phar.phar8.1.1.gz (of link group phar.phar) doesn't exist



Creating config file /etc/php/8.1/cli/php.ini with new version

Setting up nginx-core (1.18.0-6ubuntu14.3) ...

invoke-rc.d: could not determine current runlevel

invoke-rc.d: policy-rc.d denied execution of start.

Setting up nginx (1.18.0-6ubuntu14.3) ...

Setting up php8.1-fpm (8.1.2-1ubuntu2.10) ...



Creating config file /etc/php/8.1/fpm/php.ini with new version

Created symlink /etc/systemd/system/multi-user.target.wants/php8.1-fpm.service → /lib/systemd/system/php8.1-fpm.service.

invoke-rc.d: could not determine current runlevel

invoke-rc.d: policy-rc.d denied execution of start.

Setting up php-fpm (2:8.1+92ubuntu1) ...

Processing triggers for libc-bin (2.35-0ubuntu3.1) ...

Processing triggers for php8.1-cli (8.1.2-1ubuntu2.10) ...

Processing triggers for php8.1-fpm (8.1.2-1ubuntu2.10) ...

invoke-rc.d: could not determine current runlevel

invoke-rc.d: policy-rc.d denied execution of restart.

Removing intermediate container 739e5c078ee5

 ---> 1cdc5b9d82cf

Step 5/9 : ENV php_conf /etc/php/8.1/fpm/php.ini

 ---> Running in 9b49239bb526

Removing intermediate container 9b49239bb526

 ---> 6fdb4557fc57

Step 6/9 : RUN sed -i -e 's/;cgi.fix_pathinfo=1/cgi.fix_pathinfo=0/g' ${php_conf}

 ---> Running in 00c217c36109

Removing intermediate container 00c217c36109

 ---> 619774f91e14

Step 7/9 : VOLUME "/var/www/leaclover.local"

 ---> Running in 6119a90da79f

Removing intermediate container 6119a90da79f

 ---> a84f57f040d0

Step 8/9 : EXPOSE 80

 ---> Running in 0cdffa2bd4ca

Removing intermediate container 0cdffa2bd4ca

 ---> 4a10293d454b

Step 9/9 : CMD /usr/sbin/nginx -g "daemon off;"

 ---> Running in 491c2902ec78

Removing intermediate container 491c2902ec78

 ---> 117b9a24c06c

Successfully built 117b9a24c06c

Successfully tagged my_nginx_php-fpm_image:latest

leaclover@leaclover-VirtualBox:~/code/test$ docker images

REPOSITORY               TAG       IMAGE ID       CREATED              SIZE

my_nginx_php-fpm_image   latest    117b9a24c06c   About a minute ago   269MB

<none>                   <none>    7bc7dca18ba3   11 minutes ago       175MB

<none>                   <none>    6f8a053f6b5a   17 minutes ago       175MB

<none>                   <none>    ebc3827b5a93   23 minutes ago       119MB

my_test_image            latest    492be9abd119   About an hour ago    175MB

ubuntu                   18.04     5d2df19066ac   13 days ago          63.1MB

ubuntu                   latest    58db3edaf2be   13 days ago          77.8MB

docker/getting-started   latest    3e4394f6b72f   6 weeks ago          47MB


leaclover@leaclover-VirtualBox:~/code/test$ docker run -d -p 80:80 my_nginx_php-fpm_image

ca767f11c2bf0b3906f6e06dd191319736cf5a807c01ab703257afc04ba0e9be

leaclover@leaclover-VirtualBox:~/code/test$ docker ps

CONTAINER ID   IMAGE                    COMMAND                  CREATED          STATUS          PORTS                               NAMES

ca767f11c2bf   my_nginx_php-fpm_image   "/bin/sh -c '/usr/sb…"   12 seconds ago   Up 11 seconds   0.0.0.0:80->80/tcp, :::80->80/tcp   eloquent_kapitsa
